<?xml version="1.0" encoding="GBK"?><!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"><!-- create by autoCode,v1.0.0 --><mapper namespace="manage.dataCenter">	<select id="manage.dataCenter.selectPageList"		parameterType="net.jeeshop.services.manage.dataCenter.bean.DataCenter"		resultType="net.jeeshop.services.manage.dataCenter.bean.DataCenter">		select t.* from t_datacenter t where 1=1		<if test="title!=null and title!=''">	 	   and title like CONCAT('%',#{title},'%')		 </if>		 <if test="dicId!=null and dicId!=''">	 	  and dicId=#{dicId}		 </if>		 <if test="startDate!=null and startDate!=''">			and createDate &gt;= #{startDate}		 </if>		 <if test="endDate!=null and endDate!=''">			and createDate &lt;= #{endDate}		 </if>		order by id desc		limit #{offset},#{pageSize}	</select>	<select id="manage.dataCenter.selectPageCount" parameterType="net.jeeshop.services.manage.dataCenter.bean.DataCenter"		resultType="java.lang.Integer">		select count(*) from t_datacenter where 1=1		 <if test="title!=null and title!=''">	 	   and title like CONCAT('%',#{title},'%')		 </if>		  <if test="dicId!=null and dicId!=''">	 	  and  dicId=#{dicId}		 </if>		 <if test="startDate!=null and startDate!=''">			and createDate &gt;= #{startDate}		 </if>		 <if test="endDate!=null and endDate!=''">			and createDate &lt;= #{endDate}		 </if>	</select>	<!-- 保存资源中心 -->	<insert id="manage.dataCenter.insert" parameterType="net.jeeshop.services.manage.dataCenter.bean.DataCenter" 			keyProperty="id" useGeneratedKeys="true">			insert into t_datacenter(title,content,picture,dicId,status,userId,createDate) values (#{title},#{content},#{picture},#{dicId},#{status},#{userId},now())		</insert>	<!-- 保存资源详情 -->	<insert id="manage.dataCenter.insertDetail" parameterType="net.jeeshop.services.manage.dataCenter.bean.DataFile"		keyProperty="id" useGeneratedKeys="true">		insert into t_datafile(cId,fname,fsize,furl,fbigurl,userId,createDate,playurl)		values(#{cId},#{fname},#{fsize},#{furl},#{fbigurl},#{userId},now(),#{playurl})	</insert>	<!-- 删除一条资源详情 -->	<delete id="manage.dataCenter.delDetailById" parameterType="net.jeeshop.services.manage.dataCenter.bean.DataFile">	   delete from t_datafile where id=#{id}	</delete>	<!-- 删除资源文件 -->	<delete id="manage.dataCenter.deleteId" parameterType="net.jeeshop.services.manage.dataCenter.bean.DataCenter">	   delete from t_datacenter where id=#{id}	</delete>	<!-- 删除一条资源详情 -->	<delete id="manage.dataCenter.deletecId" parameterType="net.jeeshop.services.manage.dataCenter.bean.DataFile">	   delete from t_datafile where cId=#{cId}	</delete>	<!-- 根据id查询资源中心 -->	<select id="manage.dataCenter.selectOne" parameterType="net.jeeshop.services.manage.dataCenter.bean.DataCenter"		resultType="net.jeeshop.services.manage.dataCenter.bean.DataCenter">		select * from t_datacenter where 1=1		<if test="id != null and id != ''">			and id = #{id}		</if>	</select>	<!-- 根据资源id查询资源详情 -->	<select id="manage.dataCenter.selectDataDetail" parameterType="net.jeeshop.services.manage.dataCenter.bean.DataFile"		resultType="net.jeeshop.services.manage.dataCenter.bean.DataFile">		select * from t_datafile where 1=1		<if test="cId != null and cId != ''">			and cId = #{cId}		</if>	</select>	<!-- 更新资源中心 -->	<update id="manage.dataCenter.update" parameterType="net.jeeshop.services.manage.dataCenter.bean.DataCenter">		update t_datacenter set title = #{title}, updateDate = now(), 		content = #{content}, picture = #{picture}, dicId = #{dicId} , status = #{status} , userId = #{userId}		where id = #{id}	</update>		<!-- 更新资源详情 -->	<update id="manage.dataCenter.updateDetail" parameterType="net.jeeshop.services.manage.dataCenter.bean.DataFile">		update t_datafile set fname = #{fname}, furl = #{furl}, fbigurl = #{fbigurl},playurl=#{playurl},userId = #{userId}		where id = #{id}	</update></mapper>