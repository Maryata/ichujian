<?xml version="1.0" encoding="GBK"?><!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"><!-- create by autoCode,v1.0.0 --><mapper namespace="manage.sampleApply">	<select id="manage.sampleApply.selectPageList"		parameterType="net.jeeshop.services.manage.sampleApply.bean.SampleApply"		resultType="net.jeeshop.services.manage.sampleApply.bean.SampleApply">		select t.* from t_sample_apply t where 1=1		 <if test="company!=null and company!=''">	 	 and company like CONCAT('%',#{company},'%')		 </if>		 <if test="contact!=null and contact!=''">	 	 and contact like CONCAT('%',#{contact},'%')		 </if>		 <if test="phone!=null and phone!=''">		 	and phone like CONCAT('%',#{phone},'%')		 </if>		 <if test="createUser!=null and createUser!=''">		 	and phone like CONCAT('%',#{phone},'%')		  </if>		  <if test="startDate!=null and startDate!=''">		   and createDate &gt;= #{startDate}		 </if>		 <if test="endDate!=null and endDate!=''">			and createDate &lt;= #{endDate}		 </if>		 <if test="status!=null and status!=''">			and status = #{status}		 </if>		 <if test="sampleNo !=null and sampleNo !=''">			and sampleNo = #{sampleNo}		 </if>		order by id desc		limit #{offset},#{pageSize}	</select>	<select id="manage.sampleApply.selectPageCount" parameterType="net.jeeshop.services.manage.sampleApply.bean.SampleApply"		resultType="java.lang.Integer">		 select COUNT(*) from t_sample_apply t where 1=1		<if test="company!=null and company!=''">	 	 and company like CONCAT('%',#{company},'%')		 </if>		 <if test="contact!=null and contact!=''">	 	 and contact like CONCAT('%',#{contact},'%')		 </if>		 <if test="phone!=null and phone!=''">		 	and phone like CONCAT('%',#{phone},'%')		 </if>		 <if test="createUser!=null and createUser!=''">		 	and phone like CONCAT('%',#{phone},'%')		  </if>		  <if test="startDate!=null and startDate!=''">		   and createDate &gt;= #{startDate}		 </if>		 <if test="endDate!=null and endDate!=''">			and createDate &lt;= #{endDate}		 </if>		  <if test="status!=null and status!=''">			and status = #{status}		 </if>		 <if test="sampleNo !=null and sampleNo !=''">			and sampleNo = #{sampleNo}		 </if>	</select>	<select id="manage.sampleApply.judgeSampleNumber" parameterType="net.jeeshop.services.manage.sampleApply.bean.SampleApply"		resultType="java.lang.Integer">        select COALESCE(sum(productNum),0) from (select t.customerId,r.sId,r.productNum,r.productCode from t_sample_apply t left outer join t_sample_apply_detail r on  t.id=r.sid) js WHERE 1=1		<if test="customerId!=null and customerId!=''">	 	 and customerId = #{customerId}		</if>	</select>	<select id="manage.sampleApply.selectCount" parameterType="net.jeeshop.services.manage.sampleApply.bean.SampleApply"		resultType="java.lang.Integer">        select COUNT(*) from t_sample_apply where 1=1		<if test="customerId!=null and customerId!=''">	 	 and customerId = #{customerId}		</if>	</select>	<select id="manage.sampleApply.selectNumber" parameterType="net.jeeshop.services.manage.sampleApply.bean.SampleApplyDetail"		resultType="java.lang.Integer">        select * from (select t.customerId,r.sId,r.productNum,r.productName,r.creatTime from t_sample_apply t left outer join t_sample_apply_detail r on  t.id=r.sid) js WHERE 1=1 		<if test="sId!=null and sId!=''">	 	 and sId = #{sId}		</if>	</select>		<select id="manage.sampleApply.checkMessage" parameterType="net.jeeshop.services.manage.sampleApply.bean.SampleApplyDetail"		resultType="net.jeeshop.services.manage.sampleApply.bean.SampleApplyDetail">		select t.customerId,r.productCode,r.sId, sum(r.productNum ) as productNum		from t_sample_apply t left outer join t_sample_apply_detail r on  t.id=r.sid where customerId=#{customerId} || sId=#{sId}		group by t.customerId,r.productCode	</select>	<select id="manage.sampleApply.checkMoble" parameterType="net.jeeshop.services.manage.sampleApply.bean.SampleApplyDetail"		resultType="net.jeeshop.services.manage.sampleApply.bean.SampleApplyDetail">		select r.* from t_sample_apply t left outer join t_sample_apply_detail r on  t.id=r.sid WHERE 1=1 	    <if test="sId!=null and sId!=''">	 	 and sId = #{sId}		</if>		<if test="customerId!=null and customerId!=''">	 	 and customerId = #{customerId}		</if>	</select>	<insert id="manage.sampleApply.insert" parameterType="net.jeeshop.services.manage.sampleApply.bean.SampleApply" 			keyProperty="id" useGeneratedKeys="true">			insert into t_sample_apply(customerId,sampleNo,contact,address,phone,createUser,createUserId,company,expressName,expressCode,amount,createdate) values (#{customerId},#{sampleNo},#{contact},#{address},#{phone},#{createUser},#{createUserId},#{company},#{expressName},#{expressCode},#{amount},now())	</insert>	<insert id="manage.sampleApply.insertDetail" parameterType="net.jeeshop.services.manage.sampleApply.bean.SampleApplyDetail"		keyProperty="id" useGeneratedKeys="true">		insert into t_sample_apply_detail(sId,productName,productCode,productId,brandName,modelName,creatTime,plineName,productNum,productPrice)		values(#{sId},#{productName},#{productCode},#{productId},#{brandName},#{modelName},now(),#{plineName},#{productNum},#{productPrice})	</insert>    <update id="manage.sampleApply.update" parameterType="net.jeeshop.services.manage.sampleApply.bean.SampleApplyDetail">		update t_sample_apply_detail set id=#{id}		<if test="sId !=null and sId !=''">		,sId=#{sId}		</if>		<if test="productName !=null and productName !=''">		,productName=#{productName}		</if>		<if test="productCode !=null and productCode !=''">		,productCode=#{productCode}		</if>		<if test="productId !=null and productId !=''">		,productId=#{productId}		</if>		<if test="brandName !=null and brandName !=''">		,brandName=#{brandName}		</if>		<if test="modelName !=null and modelName !=''">		,modelName=#{modelName}		</if>		<if test="plineName !=null and plineName !=''">		,plineName=#{plineName}		</if>		<if test="productNum !=null and productNum !=''">		,productNum=#{productNum}		</if>		 where 1=1 and id=#{id}	</update>	<update id="manage.sampleApply.toupdate" parameterType="net.jeeshop.services.manage.sampleApply.bean.SampleApply">		update t_sample_apply set id=#{id}		<if test="status !=null and status !=''">		,status=#{status}		</if>		 where 1=1 and id=#{id}	</update>	<select id="manage.sampleApply.selectOne" parameterType="net.jeeshop.services.manage.sampleApply.bean.SampleApply" resultType="net.jeeshop.services.manage.sampleApply.bean.SampleApply">	 select t.* from t_sample_apply t where 1=1 	 <if test="id!=null and id!=''">	 	and id=#{id}	 </if>	</select>		</mapper>