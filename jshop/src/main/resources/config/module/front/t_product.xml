<?xml version="1.0" encoding="GBK"?><!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"><!-- create by autoCode,v1.0.0 --><mapper namespace="front.product">	<select id="front.product.selectPageList" parameterType="net.jeeshop.services.front.product.bean.Product" resultType="net.jeeshop.services.front.product.bean.Product">	 select 		t.id "id",		t.status,		t.catalogID "catalogID",		t.name "name",		t.pcode "pcode",		t.pline "pline",		t.introduce "introduce",		t.price "price",		t.nowPrice "nowprice",		t.picture "picture",		DATE_FORMAT(t.createtime,'%Y-%m-%d') "createtime",		t.isnew "isnew",		t.description "description",		t.sale "sale",		t.hit "hit",		t.stock,t.sellcount,		t.material,t.minNum,		t.isInternational "isInternational",		t.material "material",		t.title	 from t_product t where 1=1 and t.status=2 and t.activityID is null 	 <if test="attrID!=null and attrID !=''">		 and t.id in (select al.productID from t_attribute_link al where al.attrID=#{attrID})   	 </if>	 <if test="queryCatalogIDs!=null and queryCatalogIDs.size &gt; 0">	  and t.catalogID in <foreach item="item" index="index" collection="queryCatalogIDs" open="(" separator="," close=")">    			#{item}   		</foreach>	 </if>	 <if test="material!=null and material!=''">		 and t.material=#{material}	 </if>	 <if test="pline!=null and pline!=''">		 and t.pline =#{pline}	 </if>	 <if test="plines!=null and plines!=''">		 and t.pline in <foreach item="item" index="index" collection="plines" open="(" separator="," close=")">    			#{item}   		</foreach>	 </if>	 <if test="id!=null and id!=''">		 and t.id=#{id}	 </if>	 <if test="name!=null and name!=''">		and t.name like CONCAT('%','${name}','%' ) 	 </if>	 <if test="special!=null and special!=''">	 	<if test="special.equals('hot')"> order by t.hit desc </if>	 	<if test="special.equals('newest')"> and t.isnew='y' </if>	 	<if test="special.equals('sale')"> and t.sale='y' </if>	 </if>	 	 <if test="special==null">		 <if test="orderBy==0">			 order by t.id desc 		 </if>		 <if test="orderBy==1">			 order by t.hit desc 		 </if>		 <if test="orderBy==2">			 order by t.price desc 		 </if>		 <if test="orderBy==3">			 order by t.createtime desc 		 </if>	 </if>	 limit #{offset},#{pageSize} 	</select> 	<select id="front.product.selectPageCount" parameterType="net.jeeshop.services.front.product.bean.Product" resultType="java.lang.Integer">	 select count(*) from t_product t where 1=1 and status=2 and activityID is null 	 <if test="attrID!=null">		 and t.id in (select al.productID from t_attribute_link al where al.attrID=#{attrID})   	 </if>	<if test="queryCatalogIDs!=null and queryCatalogIDs.size &gt; 0">	  and catalogID in <foreach item="item" index="index" collection="queryCatalogIDs" open="(" separator="," close=")">    			#{item}   		</foreach>	 </if>	 <if test="material!=null and material!=''">		 and t.material=#{material}	 </if>	 <if test="pline!=null and pline!=''">		 and t.pline =#{pline}	 </if>	 <if test="plines!=null and plines!=''">		 and t.pline in <foreach item="item" index="index" collection="plines" open="(" separator="," close=")">    			#{item}   		</foreach>	 </if>	 	 <if test="id!=null and id!=''">		 	and id=#{id}	 </if>	 <if test="name!=null and name!=''">		and t.name like CONCAT('%','${name}','%' ) 	 </if>	 <if test="special!=null and special!=''">	 	<if test="special.equals('hot')"> order by hit desc </if>	 	<if test="special.equals('newest')"> and isnew='y' </if>	 	<if test="special.equals('sale')"> and sale='y' </if>	 </if>	</select>		<select id="front.product.selectHotSearch" parameterType="net.jeeshop.services.front.product.bean.Product" resultType="net.jeeshop.services.front.product.bean.Product">	 select 		t.id,		t.name 	 from t_product t where 1=1 and status=2 	 <if test="productIds!=null and productIds.size &gt; 0">	  and t.id in <foreach item="item" index="index" collection="productIds" open="(" separator="," close=")">    			#{item}   		</foreach>	 </if>	</select>		<!-- 加载促销活动的商品 -->	<select id="front.product.selectActivityProductList" parameterType="net.jeeshop.services.front.product.bean.Product" resultType="net.jeeshop.services.front.product.bean.Product">	 select 		t.id "id",		t.status,		t.catalogID "catalogID",		t.name "name",		t.pcode "pcode",		t.pline "pline",		t.introduce "introduce",		t.price "price",		t.nowPrice "nowprice",		t.picture "picture",		DATE_FORMAT(t.createtime,'%Y-%m-%d') "createtime",		t.isnew "isnew",		t.sale "sale",		t.hit "hit",		t.stock,t.sellcount,		t.activityID, 		t.isInternational "isInternational",		t.material "material",		t.title<!-- 		(select * from t_activity activity where activity.id=t.activityID)  -->	 from t_product t where 1=1 and status=2 and activityID is not null 	 	<if test="productIds!=null and productIds.size &gt; 0">	  		and t.id in <foreach item="item" index="index" collection="productIds" open="(" separator="," close=")">    			#{item}   			</foreach> 		</if>	</select>		<select id="front.product.loadHotProductShowInSuperMenu" parameterType="net.jeeshop.services.front.product.bean.Product" resultType="net.jeeshop.services.front.product.bean.Product">	 select t.id,t.name,t.isInternational,t.title from t_product t where 1=1 and status=2 	 <if test="productIds!=null and productIds.size &gt; 0">	  and t.catalogID in <foreach item="item" index="index" collection="productIds" open="(" separator="," close=")">    			#{item}   		</foreach>	 </if>	 order by sellcount desc 	 limit 0,#{top} 	</select>		<select id="front.product.selectList" parameterType="net.jeeshop.services.front.product.bean.Product" resultType="net.jeeshop.services.front.product.bean.Product">	 select 		t.id "id",		t.catalogID "catalogID",		t.name "name",		t.pcode "pcode",		t.pline "pline",		t.introduce "introduce",		t.price "price",		t.nowPrice "nowprice",		t.picture "picture",		DATE_FORMAT(t.createtime,'%Y-%m-%d') "createtime",		t.isnew "isnew",		t.sale "sale",		t.hit "hit",		t.stock,t.sellcount,		t.isInternational  "isInternational",		t.material "material",		t.title	 from t_product t where 1=1 and status=2 	<if test="queryCatalogIDs!=null and queryCatalogIDs.size &gt; 0">	  and catalogID in <foreach item="item" index="index" collection="queryCatalogIDs" open="(" separator="," close=")">    			#{item}   		</foreach>	 </if>	 <if test="id!=null and id!=''">	 	and id=#{id}	</if>	 <if test="name!=null and name!=''">		and t.name like CONCAT('%','${name}','%' ) 	 </if>	 <if test="isnew!=null and isnew!=''">	 	and isnew=#{isnew}	 </if>	 <if test="sale!=null and sale!=''">	 	and sale=#{sale}	 </if> 	 	 	 <if test="hot"> 	order by sellcount desc 	 </if>	 <if test="!hot"> 	order by id desc 	 </if> 	<if test="top &gt; 0">	 limit 0,#{top}  	</if>	</select>		<select id="front.product.selectPageLeftHotProducts" parameterType="net.jeeshop.services.front.product.bean.Product" resultType="net.jeeshop.services.front.product.bean.Product">	 select 		t.id "id",		t.catalogID "catalogID",		t.name "name",		t.pcode "pcode",		t.pline "pline",		t.price "price",		t.nowPrice "nowprice",		t.picture "picture",		t.isnew "isnew",		t.sale "sale",		t.hit "hit",		t.stock,t.sellcount,		t.isInternational  "isInternational",		t.material "material",		t.title	 from t_product t where 1=1 and status=2 	 <if test="catalogID!=null and catalogID!=''"> and catalogID=#{catalogID} </if>	 <if test="queryCatalogIDs!=null and queryCatalogIDs.size &gt; 0">	  and catalogID in <foreach item="item" index="index" collection="queryCatalogIDs" open="(" separator="," close=")">    			#{item}   		</foreach>	 </if>	 limit 0,#{top} 	</select>		<select id="front.product.selectStockList" parameterType="net.jeeshop.services.front.product.bean.Product" resultType="net.jeeshop.services.front.product.bean.ProductStockInfo">	 select t.id,t.stock,t.activityID,score from t_product t where 1=1 and status=2 	 <if test="id!=null and id!=''"> and id=#{id}</if>	</select>		<select id="front.product.selectProductListByIds" parameterType="net.jeeshop.services.front.product.bean.Product" resultType="net.jeeshop.services.front.product.bean.Product">	 select t.id,t.stock,t.name,t.pcode,t.pline,t.nowPrice,t.picture from t_product t where 1=1 and status=2 	 <if test="productIds!=null and productIds.size &gt; 0">	  and id in <foreach item="item" index="index" collection="productIds" open="(" separator="," close=")">    			#{item}   		</foreach>	 </if>	</select>		<select id="front.product.selectListProductHTML" parameterType="net.jeeshop.services.front.product.bean.Product" resultType="net.jeeshop.services.front.product.bean.Product">	 select t.id,t.productHTML from t_product t where 1=1 and status=2 and t.productHTML is not null 	 <if test="id!=null and id!=''"> and id=#{id}</if>	</select>		<update id="front.product.update" parameterType="net.jeeshop.services.front.product.bean.Product">		update t_product		  set id=#{id}		<if test="catalogID!=null and catalogID!=''">		,catalogID=#{catalogID}		</if>		<if test="name !=null and name !=''">		,name=#{name}		</if>		<if test="introduce !=null and introduce !=''">		,introduce=#{introduce}		</if>		<if test="price !=null and price !=''">		,price=#{price}		</if>		<if test="nowPrice !=null and nowPrice !=''">		,nowPrice=#{nowPrice}		</if>		<if test="picture !=null and picture !=''">		,picture=#{picture}		</if>		<if test="maxPicture !=null and maxPicture !=''">		,maxPicture=#{maxPicture}		</if>		<if test="productHTML !=null and productHTML !=''">		,productHTML=#{productHTML}		</if>		<if test="createtime !=null and createtime !=''">		,createtime=#{createtime}		</if>		<if test="isnew !=null and isnew!=''">		,isnew=#{isnew}		</if>		<if test="sale !=null and sale!=''">		,sale=#{sale}		</if>		<if test="hit !=0">		,hit=#{hit}		</if>		<if test="status !=0">		,status=#{status}		</if>		<if test="material !=null and material !=''">		,material=#{material}		</if>		<if test="minNum !=0">		,minNum=#{minNum}		</if>		 where 1=1 and id=#{id}	</update>		<update id="front.product.updateStockAfterPaySuccess" parameterType="net.jeeshop.services.front.product.bean.Product">		update t_product set stock=#{stock},sellcount=#{addSellcount}+sellcount where 1=1 and id=#{id}	</update>		<update id="front.product.updateHit" parameterType="net.jeeshop.services.front.product.bean.Product">		update t_product set hit=hit+1 where 1=1 and id=#{id}	</update> 	<select id="front.product.selectOne" parameterType="net.jeeshop.services.front.product.bean.Product" resultType="net.jeeshop.services.front.product.bean.Product">	 select * 	 from t_product t where 1=1 		 <if test="id!=null and id!=''">		 	and id=#{id} 		</if>		 <if test="catalogID!=null and catalogID!=''">			and catalogID=#{catalogID}		</if>		 <if test="name!=null and name!=''">			and t.name like CONCAT('%','${name}','%' ) 		 </if>	</select>	<select id="front.product.selectParameterList" parameterType="net.jeeshop.services.front.product.bean.Product" resultType="net.jeeshop.services.front.product.bean.Product">	 SELECT a.name,al.value FROM t_attribute a,t_attribute_link  al 	 where a.id=al.attrID and al.productID=#{id} and al.value is not null	</select>		<select id="front.product.selectById" parameterType="string" resultType="net.jeeshop.services.front.product.bean.Product">	 select * from t_product t where 1=1 and id=#{id} 	</select>		<select id="front.product.selectModelList_old" parameterType="net.jeeshop.services.front.product.bean.Product" resultType="net.jeeshop.services.front.product.bean.Product">	select catalogid,group_concat(material separator ';') as material , group_concat(productid separator ';') id from ( 	select catalogid,material ,group_concat( cast(concat( id,':' ,IFNULL(minnum,1 )) as char )) as productid from t_product where status=2 group by catalogid,material 	) as temp group by catalogid	</select>		<select id="front.product.selectModelList" parameterType="net.jeeshop.services.front.product.bean.Product" resultType="net.jeeshop.services.front.product.bean.Product">	select p.catalogid from t_product p INNER JOIN t_catalog c where p.status=2 and p.catalogid=c.id group by p.catalogid order by c.pid,c.order1	</select>		<select id="front.product.getMaterial" parameterType="string" resultType="string">	select distinct(p.material) from t_product p where p.name like #{key}	</select></mapper>