<?xml version="1.0" encoding="GBK"?><!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"><!-- create by autoCode,v1.0.0 --><mapper namespace="front.order">	<select id="front.order.selectPageList" parameterType="net.jeeshop.services.front.order.bean.Order" resultType="net.jeeshop.services.front.order.bean.Order">		select * from t_order  where 1 = 1		<if test="id!=null and id!=''">		 	and id=#{id}		</if>		<if test="accountId!=null and accountId!=''">	 		and accountId=#{accountId} 	 	</if>	 	<if test="sysAccountId!=null and sysAccountId!=''">	 		and (sysAccountId=#{sysAccountId} or accountId=#{sysAccountId})	 	</if> 		<if test="serialId!=null and serialId!=''">		 	and serialId like CONCAT('%',#{serialId},'%')		</if>		<if test="status!=null and status!=''">			<if test="status=='payN'">				and status<![CDATA[<>]]>'payY'			</if>			<if test="status!='payN'">				and status=#{status}			</if>		</if>		<if test="queryDateFlag!=null and queryDateFlag!='' and queryDate!=null ">			<if test="queryDateFlag =='w1' or queryDateFlag =='m1' or queryDateFlag =='m3' ">			  and createdate &gt;= #{queryDate}			</if>			<if test="queryDateFlag =='3mb' ">			  and createdate &lt;= #{queryDate}			</if>		</if>		order by id desc  		limit #{offset},#{pageSize} 	</select> 	<select id="front.order.selectPageCount" parameterType="net.jeeshop.services.front.order.bean.Order" resultType="java.lang.Integer">		select count(*) from t_order t where 1=1 		<if test="id!=null and id!=''">		 and id=#{id}		</if>		<if test="accountId!=null and accountId!=''">	 		and accountId=#{accountId} 		</if>		<if test="sysAccountId!=null and sysAccountId!=''"> 			and (sysAccountId=#{sysAccountId} or accountId=#{sysAccountId}) 		</if>		<if test="serialId!=null and serialId!=''">		 	and serialId like CONCAT('%',#{serialId},'%')		</if>		<if test="status!=null and status!=''">			<if test="status=='payN'">				and status<![CDATA[<>]]>#{status}			</if>			<if test="status!='payN'">				and status=#{status}			</if>		</if>		<if test="queryDateFlag!=null and queryDateFlag!='' and queryDate!=null ">			<if test="queryDateFlag =='w1' or queryDateFlag =='m1' or queryDateFlag =='m3' ">			  and createdate &gt;= #{queryDate}			</if>			<if test="queryDateFlag =='3mb' ">			  and createdate &lt;= #{queryDate}			</if>		</if>	</select>		<select id="front.order.selectList" parameterType="net.jeeshop.services.front.order.bean.Order" resultType="net.jeeshop.services.front.order.bean.Order">	 SELECT o.*,od.pline,od.price,od.number productNumber,od.productName,od.productID,od.isComment,od.id orderdetailID,	 od.mainCatalogName,od.mainCatalogCode,od.childrenCatalogName,od.childrenCatalogCode,od.material,od.total0,	 (select p.picture from t_product p where p.id=od.productID) picture	  FROM t_order o,t_orderdetail od  	where o.id=od.orderid and accountId=#{accountId} 	<if test="queryOrderIDs!=null and queryOrderIDs.size &gt; 0">	  and o.id in <foreach item="item" index="index" collection="queryOrderIDs" open="(" separator="," close=")">    			#{item}   		</foreach> 	</if>	order by o.id desc 	</select>		<select id="front.order.selectOrderInfo" parameterType="net.jeeshop.services.front.order.bean.Order" resultType="net.jeeshop.services.front.order.bean.Order">	 SELECT o.*,od.pline,od.price,od.number productNumber,od.productName,od.productID,od.isComment,od.id orderdetailID,	 od.mainCatalogName,od.mainCatalogCode,od.childrenCatalogName,od.childrenCatalogCode,od.material,od.total0,	 (select p.picture from t_product p where p.id=od.productID) picture	  FROM t_order o,t_orderdetail od  	where o.id=od.orderid 	<if test="accountId!=null and accountId!=''"> 			and accountId=#{accountId} 	</if>	<if test="id!=null and id!=''"> 			and o.id=#{id} 	</if>	</select> 	<insert id="front.order.insert" parameterType="net.jeeshop.services.front.order.bean.Order" useGeneratedKeys="true" keyProperty="id">		insert into t_order		(		id,createdate,status,paystatus		<if test="serialId != null and serialId != ''">		,serialId		</if>		<if test="account!=null and account!=''">		,account		</if>		<if test="accountId!=null and accountId!=''">		,accountId		</if>		<if test="rebate!=null and rebate!=''">		,rebate		</if>		<if test="remark!=null and remark!=''">		,remark		</if>		<if test="amount!=null">		,amount		</if>		<if test="amountExchangeScore!=0">		,amountExchangeScore		</if>		<if test="ptotal!=null">		,ptotal		</if>		<if test="number!=null">		,number		</if>		<if test="quantity!=0">		,quantity		</if>		<if test="fee!=null and fee!=0">		,fee		</if>		<if test="expressCode!=null and expressCode!=''">		,expressCode		</if>		<if test="expressName!=null and expressName!=''">		,expressName		</if>		<if test="otherRequirement!=null and otherRequirement!=''">		,otherRequirement		</if>		<if test="closedComment!=null and closedComment!=''">		,closedComment		</if>		<if test="score!=0">		,score		</if>		<if test="expectSignDate!=null and expectSignDate!=''">		,expectSignDate		</if>		<if test="confirmStatus!=null and confirmStatus!=''">		,confirmStatus		</if>		<if test="discountFee!=null and discountFee!=''">		,discountFee		</if>		<if test="settlementCode!=null and settlementCode!=''">		,settlementCode		</if>		<if test="orderType!=null and orderType!=''">		,orderType		</if>		<if test="payType!=null and payType!=''">		,payType		</if>		<if test="expressCompanyName!=null and expressCompanyName!=''">		,expressCompanyName		</if>		<if test="sysAccount != null and sysAccount != ''">		,sysAccount		</if>		<if test="sysAccountId != null and sysAccountId != ''">		,sysAccountId		</if>		<if test="isSysOrder != null and isSysOrder != ''">		,isSysOrder		</if>		<if test="commision != null and commision != ''">		,commision		</if>		<if test="commisionStatus != null and commisionStatus != ''">		,commisionStatus		</if>		<if test="commisionTime != null and commisionTime != ''">		,commisionTime		</if>		<if test="commisionUser != null and commisionUser != ''">		,commisionUser		</if>		<if test="commisionCheckUser != null and commisionCheckUser != ''">		,commisionCheckUser		</if>		<if test="commisionCheckTime != null and commisionCheckTime != ''">		,commisionCheckTime		</if>		<if test="expressFee != null and expressFee != ''">		,expressFee		</if>		<if test="commisionCheckTime != null and commisionCheckTime != ''">		,commisionCheckTime		</if>		<if test="expressType != null and expressType != ''">		,expressType		</if>		<if test="isServiceFee != null and isServiceFee != ''">		,isServiceFee		</if>		<if test="commisionSale != null and commisionSale != ''">		,commisionSale		</if>		<if test="isBill != null and isBill != ''">		,isBill		</if>		<if test="incoiceTitle != null and incoiceTitle != ''">		,incoiceTitle		</if>		)		values		(		id,now(),#{status},#{paystatus}		<if test="serialId != null and serialId != ''">		,#{serialId}		</if>		<if test="account !=null and account !=''">		,#{account}		</if>		<if test="accountId !=null and accountId !=''">		,#{accountId}		</if>		<if test="rebate !=null and rebate !=''">		,#{rebate}		</if>		<if test="remark !=null and remark !=''">		,#{remark}		</if>		<if test="amount!=null">		,#{amount}		</if>		<if test="amountExchangeScore!=0">		,#{amountExchangeScore}		</if>		<if test="ptotal!=null">		,#{ptotal}		</if>		<if test="number!=null">		,#{number}		</if>		<if test="quantity!=0">		,#{quantity}		</if>		<if test="fee!=null and fee!=0">		,#{fee}		</if>		<if test="expressCode!=null and expressCode!=''">		,#{expressCode}		</if>		<if test="expressName!=null and expressName!=''">		,#{expressName}		</if>		<if test="otherRequirement!=null and otherRequirement!=''">		,#{otherRequirement}		</if>		<if test="closedComment!=null and closedComment!=''">		,#{closedComment}		</if>		<if test="score!=0">		,#{score}		</if>		<if test="expectSignDate!=null and expectSignDate!=''">		,#{expectSignDate}		</if>		<if test="confirmStatus!=null and confirmStatus!=''">		,#{confirmStatus}		</if>		<if test="discountFee!=null and discountFee!=''">		,#{discountFee}		</if>		<if test="settlementCode!=null and settlementCode!=''">		,#{settlementCode}		</if>		<if test="orderType!=null and orderType!=''">		,#{orderType}		</if>		<if test="payType!=null and payType!=''">		,#{payType}		</if>		<if test="expressCompanyName!=null and expressCompanyName!=''">		,#{expressCompanyName}		</if>		<if test="sysAccount != null and sysAccount != ''">		,#{sysAccount}		</if>		<if test="sysAccountId != null and sysAccountId != ''">		,#{sysAccountId}		</if>		<if test="isSysOrder != null and isSysOrder != ''">		,#{isSysOrder}		</if>		<if test="commision != null and commision != ''">		,#{commision}		</if>		<if test="commisionStatus != null and commisionStatus != ''">		,#{commisionStatus}		</if>		<if test="commisionTime != null and commisionTime != ''">		,#{commisionTime}		</if>		<if test="commisionUser != null and commisionUser != ''">		,#{commisionUser}		</if>		<if test="commisionCheckUser != null and commisionCheckUser != ''">		,#{commisionCheckUser}		</if>		<if test="commisionCheckTime != null and commisionCheckTime != ''">		,#{commisionCheckTime}		</if>		<if test="expressFee != null and expressFee != ''">		,#{expressFee}		</if>		<if test="expressType != null and expressType != ''">		,#{expressType}		</if>		<if test="isServiceFee != null and isServiceFee != ''">		,#{isServiceFee}		</if>		<if test="commisionSale != null and commisionSale != ''">		,#{commisionSale}		</if>		<if test="isBill != null and isBill != ''">		,#{isBill}		</if>		<if test="incoiceTitle != null and incoiceTitle != ''">		,#{incoiceTitle}		</if>	)</insert>		<update id="front.order.update" parameterType="net.jeeshop.services.front.order.bean.Order">		update t_order		  set id=#{id}		<if test="serialId!=null and serialId!=''">		,serialId=#{serialId}		</if>		<if test="status!=null and status!=''">		,status=#{status}		</if>		<if test="refundStatus !=null and refundStatus !=''">		,refundStatus=#{refundStatus}		</if>		<if test="paystatus!=null and paystatus!=''">		,paystatus=#{paystatus}		</if>		<if test="account !=null and account !=''">		,account=#{account}		</if>		<if test="accountId !=null and accountId !=''">		,accountId=#{accountId}		</if>		<if test="rebate !=null and rebate !=''">		,rebate=#{rebate}		</if>		<if test="remark !=null and remark !=''">		,remark=#{remark}		</if>		<if test="amount !=null">		,amount=#{amount}		</if>		<if test="ptotal !=null">		,ptotal=#{ptotal}		</if>		<if test="number!=0">		,number=#{number}		</if>		<if test="quantity!=0">		,quantity=#{quantity}		</if>		<if test="expressCode!=null and expressCode!=''">		,expressCode=#{expressCode}		</if>		<if test="expressName!=null and expressName!=''">		,expressName=#{expressName}		</if>		<if test="otherRequirement!=null and otherRequirement!=''">		,otherRequirement=#{otherRequirement}		</if>		<if test="lowStocks!=null and lowStocks!=''">		,lowStocks=#{lowStocks}		</if>		<if test="closedComment!=null and closedComment!=''">		,closedComment=#{closedComment}		</if>		<if test="expectSignDate!=null and expectSignDate!=''">		,expectSignDate=#{expectSignDate}		</if>		<if test="confirmStatus!=null and confirmStatus!=''">		,confirmStatus=#{confirmStatus}		</if>		<if test="discountFee!=null and discountFee!=''">		,discountFee=#{discountFee}		</if>		<if test="settlementCode!=null and settlementCode!=''">		,settlementCode=#{settlementCode}		</if>		<if test="orderType!=null and orderType!=''">		,orderType=#{orderType}		</if>		<if test="expressCompanyName!=null and expressCompanyName!=''">		,expressCompanyName=#{expressCompanyName}		</if>		<if test="payType!=null and payType!=''">		,payType=#{payType}		</if>		<if test="commision != null and commision != ''">		,commision=#{commision}		</if>		<if test="commisionStatus != null and commisionStatus != ''">		,commisionStatus=#{commisionStatus}		</if>		<if test="commisionTime != null and commisionTime != ''">		,commisionTime=#{commisionTime}		</if>		<if test="commisionUser != null and commisionUser != ''">		,commisionUser=#{commisionUser}		</if>		<if test="commisionCheckUser != null and commisionCheckUser != ''">		,commisionCheckUser=#{commisionCheckUser}		</if>		<if test="commisionCheckTime != null and commisionCheckTime != ''">		,commisionCheckTime=#{commisionCheckTime}		</if>		<if test="expressFee != null and expressFee != ''">		,expressFee=#{expressFee}		</if>		<if test="expressType != null and expressType != ''">		,expressType=#{expressType}		</if>		<if test="isServiceFee != null and isServiceFee != ''">		,isServiceFee=#{isServiceFee}		</if>		<if test="commisionSale != null and commisionSale != ''">		,commisionSale=#{commisionSale}		</if>		<if test="isBill != null and isBill != ''">		,isBill=#{isBill}		</if>		<if test="incoiceTitle != null and incoiceTitle != ''">		,incoiceTitle=#{incoiceTitle}		</if>		 where 1=1 and id=#{id}	</update>		<select id="front.order.selectOne" parameterType="net.jeeshop.services.front.order.bean.Order" resultType="net.jeeshop.services.front.order.bean.Order">	 select * from t_order t where 1=1 and id=#{id}	   and accountId=#{accountId}	</select>		<select id="front.order.selectById" parameterType="string" resultType="net.jeeshop.services.front.order.bean.Order">	 select * from t_order t where 1=1 and id=#{id}	</select>		<select id="front.order.selectOrdersSimpleReport" parameterType="string" resultType="net.jeeshop.services.front.order.bean.OrderSimpleReport">SELECT (SELECT count(*) FROM t_order where accountId=#{accountId} and paystatus='n' and status!='cancel') orderWaitPayCount,(SELECT count(*) FROM t_order where accountId=#{accountId} and status='cancel') orderCancelCount,(SELECT count(*) FROM t_order where accountId=#{accountId} and status in ('sign','file')) orderCompleteCountFROM t_systemsetting 	</select>		<delete id="front.order.deleteById" parameterType="int">		delete from t_order where 1=1 and id=#{id}	</delete>		<select id="front.order.selectBySerialId" parameterType="string" resultType="net.jeeshop.services.front.order.bean.Order">	 select * from t_order t where 1=1 and serialId=#{serialId}	</select></mapper>